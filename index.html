<!DOCTYPE html>
<html>
<head>
    <title>ukWDOLL ‚Ä¢ DRILL SHOP</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
            color: #e0e0e0;
            padding: 10px;
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
            font-family: 'Oswald', sans-serif;
        }
        
        /* DRILL —à—Ä–∏—Ñ—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
        .drill-font {
            font-family: 'Anton', sans-serif;
            letter-spacing: 2px;
            text-transform: uppercase;
        }
        
        /* –Ø–∑—ã–∫–æ–≤–æ–π –≤—ã–±–æ—Ä */
        .language-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }
        
        .language-buttons {
            text-align: center;
        }
        
        .lang-btn {
            background: #8B0000;
            color: white;
            border: none;
            padding: 20px 40px;
            margin: 10px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            font-family: 'Anton', sans-serif;
            letter-spacing: 1px;
            transition: all 0.3s;
        }
        
        .lang-btn:hover {
            background: #ff0000;
            transform: scale(1.05);
        }
        
        /* –ê–¥–º–∏–Ω –∫–Ω–æ–ø–∫–∞ */
        .admin-btn {
            position: fixed;
            top: 10px;
            left: 10px;
            background: transparent;
            color: #8B0000;
            border: 1px solid #8B0000;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
            z-index: 1000;
            opacity: 0.3;
            transition: all 0.3s;
        }
        
        .admin-btn:hover {
            opacity: 1;
            background: #8B0000;
            color: white;
        }
        
        /* –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å */
        .admin-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .admin-content {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid #8B0000;
        }
        
        .admin-input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            background: #2a2a2a;
            border: 1px solid #8B0000;
            border-radius: 5px;
            color: white;
        }
        
        /* –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ—Ö–æ–∂–∏–º–∏, –Ω–æ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ —Ü–≤–µ—Ç–∞–º–∏ */
        .header {
            text-align: center;
            padding: 15px 0;
            margin-bottom: 20px;
            background: rgba(26, 26, 26, 0.9);
            border-radius: 15px;
            border: 2px solid #8B0000;
        }
        
        .title {
            font-size: 24px;
            color: #8B0000;
            margin-bottom: 5px;
            text-shadow: 0 0 10px rgba(139, 0, 0, 0.5);
        }
        
        .category-btn {
            background: rgba(42, 42, 42, 0.9);
            border: 2px solid #8B0000;
            color: #fff;
            padding: 15px;
            margin: 5px 0;
            border-radius: 10px;
            font-size: 16px;
            width: 100%;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Oswald', sans-serif;
        }
        
        .product {
            background: rgba(42, 42, 42, 0.9);
            border-radius: 15px;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #333;
            animation: slideIn 0.5s ease;
        }
        
        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }
        
        .remove-btn {
            background: #8B0000;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- –í—ã–±–æ—Ä —è–∑—ã–∫–∞ -->
    <div class="language-modal" id="languageModal">
        <div class="language-buttons">
            <div style="color: #8B0000; font-size: 24px; margin-bottom: 20px;" class="drill-font">ukWDOLL</div>
            <button class="lang-btn" onclick="setLanguage('ru')">–†–£–°–°–ö–ò–ô</button>
            <button class="lang-btn" onclick="setLanguage('en')">ENGLISH</button>
        </div>
    </div>

    <!-- –ê–¥–º–∏–Ω –∫–Ω–æ–ø–∫–∞ -->
    <button class="admin-btn" onclick="showAdminPanel()">ADMIN</button>

    <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å -->
    <div class="admin-modal" id="adminModal">
        <div class="admin-content">
            <h3 class="drill-font" style="color: #8B0000; text-align: center; margin-bottom: 20px;">ADMIN PANEL</h3>
            
            <input type="text" id="adminProductName" class="admin-input" placeholder="Product Name">
            <input type="number" id="adminProductPrice" class="admin-input" placeholder="Price">
            <input type="number" id="adminProductOldPrice" class="admin-input" placeholder="Old Price">
            <input type="text" id="adminProductDesc" class="admin-input" placeholder="Description">
            <input type="text" id="adminProductImage" class="admin-input" placeholder="Image URL">
            
            <select id="adminProductCategory" class="admin-input">
                <option value="alcohol">Alcohol</option>
                <option value="hygiene">Hygiene</option>
                <option value="food">Food</option>
            </select>
            
            <button class="lang-btn" style="width: 100%; margin: 10px 0;" onclick="addProduct()">ADD PRODUCT</button>
            <button class="remove-btn" style="width: 100%;" onclick="hideAdminPanel()">CLOSE</button>
            
            <div id="adminProductsList" style="margin-top: 20px;"></div>
        </div>
    </div>

    <div class="header">
        <div class="title drill-font" id="storeTitle">ukWDOLL DRILL SHOP</div>
        <div class="subtitle" id="storeSubtitle">–õ—ã—Å—å–≤–∞ ‚Ä¢ –ß—É—Å–æ–≤–æ–π ‚Ä¢ –¶–µ–Ω—ã –Ω–∞ 50-70% –Ω–∏–∂–µ</div>
        <button class="category-btn" onclick="showLegend()" id="legendBtn">‚ÑπÔ∏è –û –ú–ê–ì–ê–ó–ò–ù–ï</button>
    </div>

    <button class="category-btn" onclick="showCategory('alcohol')" id="alcoholBtn">ü•É –ê–õ–ö–û–ì–û–õ–¨</button>
    <button class="category-btn" onclick="showCategory('hygiene')" id="hygieneBtn">üß¥ –ì–ò–ì–ò–ï–ù–ê</button>
    <button class="category-btn" onclick="showCategory('food')" id="foodBtn">üçï –ü–†–û–î–£–ö–¢–´</button>

    <div id="products"></div>

    <button class="cart-btn" onclick="showCart()">üõí <span id="cartText">–ö–æ—Ä–∑–∏–Ω–∞</span> (<span id="cart-count">0</span>)</button>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <h3 style="color: #8B0000; margin-bottom: 15px;">üõí <span id="cartTitle">–í–∞—à –∑–∞–∫–∞–∑</span></h3>
            <div id="cart-items"></div>
            <div id="cart-total" style="margin-top: 15px;"></div>
            <button class="order-btn" onclick="sendOrder()" id="orderBtn">üìû –û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó</button>
            <button class="quantity-btn" onclick="hideCart()" style="margin-top: 10px; width: 100%; background: #666;" id="closeCartBtn">‚úñ –ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <!-- –õ–µ–≥–µ–Ω–¥–∞ –º–∞–≥–∞–∑–∏–Ω–∞ -->
    <div class="cart-modal" id="legendModal">
        <div class="cart-content">
            <h3 style="color: #8B0000; margin-bottom: 15px;" id="legendTitle">üíé –û –ú–ê–ì–ê–ó–ò–ù–ï</h3>
            <div id="legendText" style="line-height: 1.6;">
                <!-- –¢–µ–∫—Å—Ç –ª–µ–≥–µ–Ω–¥—ã –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —è–∑—ã–∫–∞ -->
            </div>
            <button class="quantity-btn" onclick="hideLegend()" style="margin-top: 10px; width: 100%; background: #666;">‚úñ –ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–≤–æ–¥—ã
        const translations = {
            ru: {
                title: "ukWDOLL DRILL SHOP",
                subtitle: "–õ—ã—Å—å–≤–∞ ‚Ä¢ –ß—É—Å–æ–≤–æ–π ‚Ä¢ –¶–µ–Ω—ã –Ω–∞ 50-70% –Ω–∏–∂–µ",
                alcoholBtn: "ü•É –ê–õ–ö–û–ì–û–õ–¨",
                hygieneBtn: "üß¥ –ì–ò–ì–ò–ï–ù–ê", 
                foodBtn: "üçï –ü–†–û–î–£–ö–¢–´",
                legendBtn: "‚ÑπÔ∏è –û –ú–ê–ì–ê–ó–ò–ù–ï",
                cartText: "–ö–æ—Ä–∑–∏–Ω–∞",
                cartTitle: "–í–∞—à –∑–∞–∫–∞–∑",
                orderBtn: "üìû –û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó",
                closeCartBtn: "‚úñ –ó–∞–∫—Ä—ã—Ç—å",
                legendTitle: "üíé –û –ú–ê–ì–ê–ó–ò–ù–ï",
                legendText: `<p><strong>ukWDOLL - —ç—Ç–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –≤—ã–≥–æ–¥–Ω—ã—Ö –ø–æ–∫—É–ø–æ–∫ –≤ –ü–µ—Ä–º—Å–∫–æ–º –∫—Ä–∞–µ.</strong></p>
                            <p>–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –∫—Ä—É–ø–Ω—ã–º–∏ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞–º–∏ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Ç–æ–≤–∞—Ä—ã –∏–∑ —Å–µ—Ç–µ–π –ú–∞–≥–Ω–∏—Ç, –ü—è—Ç–µ—Ä–æ—á–∫–∞, –î–∏–∫—Å–∏ –ø–æ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏.</p>
                            <p><strong>–ü–æ—á–µ–º—É —Ç–∞–∫ –¥—ë—à–µ–≤–æ?</strong><br>
                            - –ó–∞–∫—É–ø–∞–µ–º –æ–ø—Ç–æ–º —É –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤<br>
                            - –ë–µ–∑ –Ω–∞—Ü–µ–Ω–æ–∫ —Ä–æ–∑–Ω–∏—á–Ω—ã—Ö —Å–µ—Ç–µ–π<br>
                            - –¢–æ–≤–∞—Ä—ã —Å –Ω–µ–±–æ–ª—å—à–∏–º –±—Ä–∞–∫–æ–º —É–ø–∞–∫–æ–≤–∫–∏<br>
                            - –ò–∑–ª–∏—à–∫–∏ –∫—Ä—É–ø–Ω—ã—Ö –ø–æ—Å—Ç–∞–≤–æ–∫</p>
                            <p>–í—Å–µ —Ç–æ–≤–∞—Ä—ã –∞–±—Å–æ–ª—é—Ç–Ω–æ –ª–µ–≥–∞–ª—å–Ω—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã. –ú—ã –¥–∞–µ–º —Ç–æ–≤–∞—Ä—É –≤—Ç–æ—Ä—É—é –∂–∏–∑–Ω—å, –∞ –≤–∞–º - —Ä–µ–∞–ª—å–Ω—É—é —ç–∫–æ–Ω–æ–º–∏—é!</p>`
            },
            en: {
                title: "ukWDOLL DRILL SHOP", 
                subtitle: "Lysva ‚Ä¢ Chusovoy ‚Ä¢ Prices 50-70% lower",
                alcoholBtn: "ü•É ALCOHOL",
                hygieneBtn: "üß¥ HYGIENE",
                foodBtn: "üçï FOOD",
                legendBtn: "‚ÑπÔ∏è ABOUT STORE",
                cartText: "Cart",
                cartTitle: "Your order", 
                orderBtn: "üìû PLACE ORDER",
                closeCartBtn: "‚úñ Close",
                legendTitle: "üíé ABOUT STORE",
                legendText: `<p><strong>ukWDOLL - profitable shopping community in Perm Region.</strong></p>
                            <p>We work with major distributors and offer products from Magnit, Pyaterochka, Dixi chains at cost price.</p>
                            <p><strong>Why so cheap?</strong><br>
                            - We buy wholesale from distributors<br>
                            - No retail markups<br>
                            - Products with minor packaging defects<br>
                            - Surplus from large shipments</p>
                            <p>All products are completely legal and safe. We give products a second life, and you get real savings!</p>`
            }
        };

        // –¢–æ–≤–∞—Ä—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
        const products = {
            alcohol: [
                {id: 1, name: "JAGERMEISTER", price: 1200, oldPrice: 2500, desc: "700ml ‚Ä¢ 35%", image: "https://img.icons8.com/pastel-glyph/64/whiskey.png"},
                {id: 2, name: "JACK DANIEL'S", price: 1500, oldPrice: 3000, desc: "700ml ‚Ä¢ 40%", image: "https://img.icons8.com/pastel-glyph/64/whiskey.png"}
            ],
            hygiene: [
                {id: 3, name: "SHAMPOO CLEAN", price: 85, oldPrice: 200, desc: "250ml ‚Ä¢ For all types", image: "https://img.icons8.com/papercut/60/shampoo.png"},
                {id: 4, name: "SHOWER GEL FRESH", price: 120, oldPrice: 280, desc: "500ml ‚Ä¢ Refreshing", image: "https://img.icons8.com/papercut/60/shampoo.png"}
            ],
            food: [
                {id: 5, name: "RUSSIAN CHEESE", price: 180, oldPrice: 350, desc: "200g ‚Ä¢ 45%", image: "https://img.icons8.com/emoji/48/cheese-wedge-emoji.png"},
                {id: 6, name: "BUTTER", price: 120, oldPrice: 250, desc: "180g ‚Ä¢ 82%", image: "https://img.icons8.com/external-smashingstocks-outline-color-smashing-stocks/66/external-butter-food-and-drinks-smashingstocks-outline-color-smashing-stocks.png"}
            ]
        };

        let cart = {};
        let currentLanguage = 'ru';
        let currentCategory = 'alcohol';

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            const savedLanguage = localStorage.getItem('ukwdoll_language');
            if (savedLanguage) {
                setLanguage(savedLanguage, false);
            }
            showCategory('alcohol');
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞
        function setLanguage(lang, showAlert = true) {
            currentLanguage = lang;
            localStorage.setItem('ukwdoll_language', lang);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Ç–µ–∫—Å—Ç—ã
            document.getElementById('storeTitle').textContent = translations[lang].title;
            document.getElementById('storeSubtitle').textContent = translations[lang].subtitle;
            document.getElementById('alcoholBtn').textContent = translations[lang].alcoholBtn;
            document.getElementById('hygieneBtn').textContent = translations[lang].hygieneBtn;
            document.getElementById('foodBtn').textContent = translations[lang].foodBtn;
            document.getElementById('legendBtn').textContent = translations[lang].legendBtn;
            document.getElementById('cartText').textContent = translations[lang].cartText;
            document.getElementById('cartTitle').textContent = translations[lang].cartTitle;
            document.getElementById('orderBtn').textContent = translations[lang].orderBtn;
            document.getElementById('closeCartBtn').textContent = translations[lang].closeCartBtn;
            document.getElementById('legendTitle').textContent = translations[lang].legendTitle;
            document.getElementById('legendText').innerHTML = translations[lang].legendText;
            
            document.getElementById('languageModal').style.display = 'none';
            
            if (showAlert) {
                alert(lang === 'ru' ? '–Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω!' : 'Language changed!');
            }
            
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
            showCategory(currentCategory);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–æ–≤–∞—Ä–æ–≤
        function showCategory(category) {
            currentCategory = category;
            const productsDiv = document.getElementById('products');
            productsDiv.innerHTML = '';
            
            products[category].forEach(product => {
                productsDiv.innerHTML += `
                    <div class="product">
                        <div class="product-image">
                            <img src="${product.image}" alt="${product.name}" width="50" height="50">
                        </div>
                        <div class="product-info">
                            <div class="product-name">${product.name}</div>
                            <div class="product-desc">${product.desc}</div>
                            <div class="product-price">
                                ${product.price} 
                                <img width="16" height="16" src="https://img.icons8.com/office/40/ruble.png" alt="ruble">
                                <span class="product-old-price">${product.oldPrice} ‚ÇΩ</span>
                            </div>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
                                <span class="quantity" id="qty-${product.id}">${cart[product.id] || 0}</span>
                                <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        // –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
        function showAdminPanel() {
            const password = prompt(currentLanguage === 'ru' ? "–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:" : "Enter password:");
            if (password === "13579") { // –ü–∞—Ä–æ–ª—å –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å
                document.getElementById('adminModal').style.display = 'flex';
                loadAdminProducts();
            } else {
                alert(currentLanguage === 'ru' ? "–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!" : "Wrong password!");
            }
        }

        function hideAdminPanel() {
            document.getElementById('adminModal').style.display = 'none';
        }

        function addProduct() {
            const name = document.getElementById('adminProductName').value;
            const price = parseInt(document.getElementById('adminProductPrice').value);
            const oldPrice = parseInt(document.getElementById('adminProductOldPrice').value);
            const desc = document.getElementById('adminProductDesc').value;
            const image = document.getElementById('adminProductImage').value;
            const category = document.getElementById('adminProductCategory').value;
            
            if (!name || !price) {
                alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ü–µ–Ω—É!");
                return;
            }
            
            const newId = Date.now(); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ID –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏
            const newProduct = {
                id: newId,
                name: name,
                price: price,
                oldPrice: oldPrice,
                desc: desc,
                image: image
            };
            
            if (!products[category]) {
                products[category] = [];
            }
            
            products[category].push(newProduct);
            loadAdminProducts();
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª—è
            document.getElementById('adminProductName').value = '';
            document.getElementById('adminProductPrice').value = '';
            document.getElementById('adminProductOldPrice').value = '';
            document.getElementById('adminProductDesc').value = '';
            document.getElementById('adminProductImage').value = '';
            
            alert("–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω!");
        }

        function loadAdminProducts() {
            const list = document.getElementById('adminProductsList');
            list.innerHTML = '<h4>–¢–æ–≤–∞—Ä—ã:</h4>';
            
            for (const category in products) {
                products[category].forEach(product => {
                    list.innerHTML += `
                        <div style="border-bottom: 1px solid #333; padding: 10px 0;">
                            <strong>${product.name}</strong> - ${product.price}‚ÇΩ
                            <button class="remove-btn" onclick="removeProduct(${product.id})" style="margin-left: 10px;">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    `;
                });
            }
        }

        function removeProduct(productId) {
            for (const category in products) {
                products[category] = products[category].filter(p => p.id !== productId);
            }
            loadAdminProducts();
            showCategory(currentCategory); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        }

        // –§—É–Ω–∫—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω—ã
        function changeQuantity(productId, change) {
            if (!cart[productId]) cart[productId] = 0;
            cart[productId] += change;
            if (cart[productId] < 0) cart[productId] = 0;
            
            document.getElementById(`qty-${productId}`).textContent = cart[productId];
            updateCartCount();
        }

        function updateCartCount() {
            const total = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
            document.getElementById('cart-count').textContent = total;
        }

        function showCart() {
            const modal = document.getElementById('cartModal');
            const itemsDiv = document.getElementById('cart-items');
            const totalDiv = document.getElementById('cart-total');
            
            itemsDiv.innerHTML = '';
            let total = 0;
            let itemCount = 0;
            
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    const product = findProduct(parseInt(productId));
                    if (product) {
                        const sum = product.price * cart[productId];
                        total += sum;
                        itemCount += cart[productId];
                        
                        itemsDiv.innerHTML += `
                            <div class="cart-item">
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center;">
                                        <img src="${product.image}" alt="${product.name}" width="30" height="30" style="margin-right: 10px;">
                                        ${product.name} √ó${cart[productId]}
                                    </div>
                                    <div>${sum} ‚ÇΩ</div>
                                </div>
                                <div class="cart-item-controls">
                                    <button class="quantity-btn" onclick="changeQuantity(${product.id}, -1)">-</button>
                                    <span class="quantity">${cart[productId]}</span>
                                    <button class="quantity-btn" onclick="changeQuantity(${product.id}, 1)">+</button>
                                    <button class="remove-btn" onclick="removeFromCart(${product.id})">üóëÔ∏è</button>
                                </div>
                            </div>
                        `;
                    }
                }
            });
            
            if (itemCount === 0) {
                itemsDiv.innerHTML = '<div style="text-align: center; color: #888; padding: 20px;">' + 
                    (currentLanguage === 'ru' ? '–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞' : 'Cart is empty') + '</div>';
            }
            
            totalDiv.innerHTML = itemCount > 0 ? `
                <div style="border-top: 1px solid #444; padding-top: 10px;">
                    <h4 style="color: #8B0000;">${currentLanguage === 'ru' ? '–ò—Ç–æ–≥–æ' : 'Total'}: ${total} 
                    <img width="16" height="16" src="https://img.icons8.com/office/40/ruble.png" alt="ruble">
                    </h4>
                </div>
            ` : '';
            modal.style.display = 'flex';
        }

        function removeFromCart(productId) {
            cart[productId] = 0;
            showCart();
            updateCartCount();
            showCategory(currentCategory);
        }

        function hideCart() {
            document.getElementById('cartModal').style.display = 'none';
        }

        function findProduct(id) {
            for (let category in products) {
                const product = products[category].find(p => p.id === id);
                if (product) return product;
            }
            return null;
        }

        function sendOrder() {
            let orderText = currentLanguage === 'ru' ? "üõí –ó–ê–ö–ê–ó –∏–∑ ukWDOLL:\n\n" : "üõí ORDER from ukWDOLL:\n\n";
            let total = 0;
            
            Object.keys(cart).forEach(productId => {
                if (cart[productId] > 0) {
                    const product = findProduct(parseInt(productId));
                    if (product) {
                        const sum = product.price * cart[productId];
                        total += sum;
                        orderText += `${product.name} - ${cart[productId]}—à—Ç √ó ${product.price}‚ÇΩ = ${sum}‚ÇΩ\n`;
                    }
                }
            });
            
            orderText += `\nüí∞ ${currentLanguage === 'ru' ? '–û–ë–©–ê–Ø –°–£–ú–ú–ê' : 'TOTAL'}: ${total}‚ÇΩ`;
            orderText += `\nüìç ${currentLanguage === 'ru' ? '–ì–æ—Ä–æ–¥' : 'City'}: ________`;
            orderText += `\nüìû ${currentLanguage === 'ru' ? '–¢–µ–ª–µ—Ñ–æ–Ω' : 'Phone'}: ________`;
            orderText += `\nüè† ${currentLanguage === 'ru' ? '–ê–¥—Ä–µ—Å' : 'Address'}: ________`;
            orderText += `\n\n${currentLanguage === 'ru' ? '–î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å' : 'For order contact'} @HXNS_59Gz`;
            
            const telegramUrl = `https://t.me/HXNS_59Gz?text=${encodeURIComponent(orderText)}`;
            window.open(telegramUrl, '_blank');
        }

        // –õ–µ–≥–µ–Ω–¥–∞ –º–∞–≥–∞–∑–∏–Ω–∞
        function showLegend() {
            document.getElementById('legendModal').style.display = 'flex';
        }

        function hideLegend() {
            document.getElementById('legendModal').style.display = 'none';
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = init;
    </script>
</body>
</html>
